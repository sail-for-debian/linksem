chapter {* Generated by Lem from abis/x86/abi_x86_relocation.lem. *}

theory "Abi_x86_relocation" 

imports 
 	 Main
	 "/auto/homes/dpm36/Work/Cambridge/bitbucket/lem/isabelle-lib/Lem_num" 
	 "/auto/homes/dpm36/Work/Cambridge/bitbucket/lem/isabelle-lib/Lem_basic_classes" 
	 "/auto/homes/dpm36/Work/Cambridge/bitbucket/lem/isabelle-lib/Lem_string" 
	 "/auto/homes/dpm36/Work/Cambridge/bitbucket/linksem/auto_generated/isabelle/Show" 

begin 

(** [abi_x86_relocation] contains X86 ABI specific definitions relating to
  * relocations.
  *)

(*open import Basic_classes*)
(*open import Num*)
(*open import String*)

(*open import Show*)

(** Relocation types. *)

definition r_386_none  :: " nat "  where 
     " r_386_none = (( 0 :: nat))"

definition r_386_32  :: " nat "  where 
     " r_386_32 = (( 1 :: nat))"

definition r_386_pc32  :: " nat "  where 
     " r_386_pc32 = (( 2 :: nat))"

definition r_386_got32  :: " nat "  where 
     " r_386_got32 = (( 3 :: nat))"

definition r_386_plt32  :: " nat "  where 
     " r_386_plt32 = (( 4 :: nat))"

definition r_386_copy  :: " nat "  where 
     " r_386_copy = (( 5 :: nat))"

definition r_386_glob_dat  :: " nat "  where 
     " r_386_glob_dat = (( 6 :: nat))"

definition r_386_jmp_slot  :: " nat "  where 
     " r_386_jmp_slot = (( 7 :: nat))"

definition r_386_relative  :: " nat "  where 
     " r_386_relative = (( 8 :: nat))"

definition r_386_gotoff  :: " nat "  where 
     " r_386_gotoff = (( 9 :: nat))"

definition r_386_gotpc  :: " nat "  where 
     " r_386_gotpc = (( 10 :: nat))"


(** Found in the wild but not in the ABI docs: *)

definition r_386_tls_tpoff  :: " nat "  where 
     " r_386_tls_tpoff = (( 14 :: nat))"

definition r_386_tls_dtpmod32  :: " nat "  where 
     " r_386_tls_dtpmod32 = (( 35 :: nat))"

definition r_386_tls_dtpoff32  :: " nat "  where 
     " r_386_tls_dtpoff32 = (( 36 :: nat))"

definition r_386_irelative  :: " nat "  where 
     " r_386_irelative = (( 42 :: nat))"


(** [string_of_x86_relocation_type m] produces a string based representation of
  * X86 ABI relocation type [m].
  *)
(*val string_of_x86_relocation_type : natural -> string*)
definition string_of_x86_relocation_type  :: " nat \<Rightarrow> string "  where 
     " string_of_x86_relocation_type m = (
  if m = r_386_none then
    (''R_386_NONE'')
  else if m = r_386_32 then
    (''R_386_32'')
  else if m = r_386_pc32 then
    (''R_386_PC32'')
  else if m = r_386_got32 then
    (''R_386_GOT32'')
  else if m = r_386_plt32 then
    (''R_386_PLT32'')
  else if m = r_386_copy then
    (''R_386_COPY'')
  else if m = r_386_glob_dat then
    (''R_386_GLOB_DAT'')
  else if m = r_386_jmp_slot then
    (''R_386_JUMP_SLOT'')
  else if m = r_386_relative then
    (''R_386_RELATIVE'')
  else if m = r_386_gotoff then
    (''R_386_GOTOFF'')
  else if m = r_386_gotpc then
    (''R_386_GOTPC'')
  else if m = r_386_tls_tpoff then
    (''R_386_TLS_TPOFF'')
  else if m = r_386_tls_dtpmod32 then
    (''R_386_TLS_DTPMOD32'')
  else if m = r_386_tls_dtpoff32 then
    (''R_386_TLS_DTPOFF32'')
  else if m = r_386_irelative then
    (''R_386_IRELATIVE'')
  else
    (''Invalid x86 relocation''))"

end
